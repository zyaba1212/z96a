# Архитектура проекта

## Компоненты
1. **Frontend** (Next.js)
   - Страницы: главная, редактирование.
   - Компоненты: 3D-сцена (Three.js), панель инструментов, список истории.
   - Состояние: глобальное (Zustand/Redux) для данных сети и пользователя.
2. **Backend API** (Next.js API routes или отдельный сервер)
   - Эндпоинты для получения/сохранения данных сети (чтение из БД, запись в БД + вызов контракта).
   - Прокси для геоданных (границы, названия).
3. **База данных** (PostgreSQL + Prisma)
   - Таблицы: пользователи, элементы сети, соединения, история действий.
4. **Блокчейн-слой** (Solana)
   - Смарт-контракт (program) на Rust/Anchor.
   - Взаимодействие через `@solana/web3.js`.

## Потоки данных
- При загрузке страницы: запрос к API за текущим состоянием сети (объединение данных из БД и блокчейна).
- При действии пользователя:
  - Формируется транзакция, подписывается в Phantom.
  - После подтверждения отправляется запрос на API для сохранения в БД.
  - Обновляется локальное состояние (optimistic update).
- История действий хранится в БД и может быть восстановлена по запросу.